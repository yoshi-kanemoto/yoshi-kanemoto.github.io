○最初のページ用のグラフィックタイプのアクセスカウンタ”gacf (ver.1.0)”

　ホームページ(最初のWebページ)で使用できるグラフィックタイプのアクセス カウンタ”gacf(graphic access counter for first
Web page)”をここで 公開しております。
　ここから、ダウンロードして貴方のホームページに設置可能です。ここから 直接ダウンロードされた場合には、”無料”です。
著作権は一応留保しますが、 貴方のサイトで自由に変更して頂いてかまいません。

　このカウンタの特徴は、NECのC&C meshのようにSSI(Server Side Include) は、使えないが、CGI(Common Gateway Interface)
は、使えるプロバイダーの ホームページで、使うことができる点です。
　２ページ目以降に取り付けるカウンタについては次節”gacs"を御覧下さい。

”gacf”の設置方法

  1.”index.html”のWebページの設定
     貴方の最初のWebページ(ファイル名を”index.html”とします)の カウンタの数字を入れたい部分に

     <!-- ＩＮＳＥＲＴ＿ＣＯＵＮＴＥＲ -->

     という行を半角で挿入して下さい(説明文にこの文字列を半角で 書いたらそこにもカウンタの数字が 挿入されてしまいま
     した)。 この行には、他の文字等は入れないで 下さい。また、このWebページの他の部分には、 ”ＩＮＳＥＲＴ＿ＣＯＵＮＴＥ
     Ｒ”(の半角の文字列) という文字列は、使用しないで下さい。
     　例えばページの最初に表示する場合の例を以下に示します。

         <HTML>
         <HEAD>
         <TITLE>Any Title</TITLE>
         </HEAD>
         <BODY>
         <P ALIGN=RIGHT>
         あなたは、
         <!-- ＩＮＳＥＲＴ＿ＣＯＵＮＴＥＲ -->(ほんとは半角)
         人目です。
         </P>

     ここで、”あなたは、”や”人目です。”の部分は、適宜変更してい ただいてかまいませんし、なくても問題ありません。その
     上の

     <P ALIGN=RIGHT>

     は、カウンタの表示を右側にすることを指示しています。しかし、 ”ALIGN=RIGHT”の指定は、Netscape Navigator 2.0等
     でしか有効では ありません。TABLEタグを使って右寄せする方法はInternet Explorer 2.0等でも有効です。TABLEタグを
     使って右寄せする方法については、 ”竹ソフト”のホームページの最初の部分のソースを御参照下さい。 それでも、
     TABLEタグに対応していないブラウザでは、右寄せできませ ん。

     　また、このファイルの一番最後の方にIMGタグから ”gacf.cgi”を呼び出す行を必ず挿入して下さい。以下に例を示しま
     す。 

     　　<IMG SRC="gacf.cgi" BORDER=0 ALT="">

     　　</BODY>
     　　</HTML>

  2.”index_.html”の準備
     次に、”index.html”をコピーして、”index_.html”という名前の ファイルを作って下さい。”_”は、アンダースコア(アンダーバ
     ー) です。

  3.”gacf”のCGIスクリプト
     次のファイルをここからダウンロードして下さい。Netscape Navigator の場合のダウンロードの仕方は、リンクをクリックして
     内容を表示 させてから、メニューの”ファイル”から”名前を付けて保存”を選 んで下さい。他のブラウザの場合は、マニュ
     アルを御参照下さい。貴方 のファイル名を指定するダイアログがでますから、同じ名前で保存し て下さい。このページへ
     戻るには、ブラウザの”戻るボタン”等を 御使い下さい。

     　　gacf.txt

     ダウンロードしたらファイル名を”gacf.cgi”と変更して下さい。 　このカウンタをmesh以外で使用される場合には、一行目の

     　　#!/usr/mesh/bin/perl

     をそのサイトのperlのあるところに変更して下さい。
     　また、このカウンタに必要なファイル名をここで説明している ものと変える場合や、CGIではフルパスのファイル名を指定
     する必要 がある場合には、このファイルの中の”(1)”の部分の５個のファイル (ディレクトリ)名を適宜変更して下さい。

     [IE 2.0をお使いの方への注意事項]
     Windows 95上で作動するInternet Explorer 2.0を用いて、gacf.txtを ダウンロードした場合、ファイルの先頭に２行の空白
     行が勝手に挿入 される場合があります。このような場合は、メモ帳や秀丸のような エディタで、先頭の空白行を必ず削除
     して下さい。先頭行で上に 述べたperlのファイルを指定していないとperlのcgiは、うまく動き ません。

     [Netscape Historyをお使いの方への注意事項]
     gacfのユーザーの方から「Netscape Historyというソフトを用いて キャッシュのデータからgacf.txtをsaveしたら、gacf.txtの一
     部が、 ”__unavailable__.gif”に変わってしまった」という情報をいただき ました。このような変更が生じるとうまくカウンタが動
     かないので gacf.txtは、ここのWebページから直接ダウンロードしていただくよう お願いします。

  4.”count.txt”ファイル
     カウンタの数値を入れるファイル

     　　count.txt

     をここからダウンロードするか、エディターで半角の数字”0”のみ が入ったファイルを用意して下さい(リターンは入れない
     で下さい)。 カウンタを途中の番号から始めたい場合は、始めたい番号より１小さ い数値を半角の数字で書いたファイル
     をエディターで作って下さい。 ファイル名は、”count.txt”にして下さい。

     [IE 2.0の場合の注意事項]
     Windows 95上で作動するInternet Explorer 2.0を用いて、count.txtを ダウンロードした場合、ファイルの先頭に２行の空白
     行が勝手に挿入 される場合があります。このような場合は、メモ帳や秀丸のような エディタで、先頭の空白行を必ず削除
     して下さい。そして、count.txtは、 ローカルファイル上でもftpで送ったWebサイト上でも最初は、必ず1バイ トです。

  5.”trans.gif”ファイル
     ダミーとして送る小さい透明の四角のgifファイルです。このgifファ イルはここからダウンロードするか御自分で御用意下さ
     い。ダウンロ ードする際に、この下の”tarns.gif”をクリックしてもこのgifは、 透明なので、なにもないバックだけが表示され
     ますが、かまわず、 メニューの”ファイル”から”名前を付けて保存”を選ぶ等の 操作で、ダウンロードして下さい。

     　　trans.gif

  6.数字のgifファイルの転送
     以下に示す数字を表示するためのgifファイルをどれか１組１０個 ダウンロードして下さい。Netscape Navigatorの場合、数
     字の画像 の上にマウスポインタを置き、右クリックして下さい(マックの場合 数秒間押し続ける)。出てきたメニューから、”画
     像を名前を付けて 保存”を選択して下さい。ファイル名は、”0.gif”、”1.gif”、 ”2.gif”、...、”9.gif”のようにして下さい。 自分
     で、数字のgifファイルを作る方や、他の数字のgifファイルを 使う方は、ここからダウンロードする必要は、ありません。

     ○白地に黒字(15 x 20 pixel)

       　 　 　 　 　 　 　 　 　 

     ○白地に黒字(20 x 30 pixel)

       　 　 　 　 　 　 　 　 　 

     ○黒字に白地(20 x 30 pixel)

       　 　 　 　 　 　 　 　 　 

  7.ファイルのアップロードとアクセス権の変更
     ftpで次のファイルをホームページのディレクトリへ、テキストモード で転送(put)して下さい。

         index.html 
         index_.html 
         count.txt 
         gacf.cgi

     次にホームページのディレクトリの下にimageというディレクトリを つくって(mkdir image)、下に示すgifファイルをバイナリー
     モードで 転送して下さい。 こうするのは、gifファイルは、一ヶ所に集めておいて各Webページ から共通にアクセスする方
     がわかりやすいからです。しかし、このよ うにしなくてもかまいません。その場合には、gacf.cgiの$gif_dir および
     $dummy_gif_fileを適宜変更して下さい。

         trans.gif 
         n.gif (nは、0 〜 9)

     そして、”index.html”と”count.txt”のファイルのアクセス許可を ”666”に変更して下さい。”gacf.cgi”のファイルのアクセス
     許可を ”755”に変更して下さい。そのほかのファイルは、一般の人から読み 出し可能であればよいので、通常変更不要
     です。
     　meshで、ファイルのアクセス許可を変更するには、ftpで目的のサイトに ログインして次のようにします。

     　　ftp>cd public_html
     　　ftp>dir
     　　ftp>quote site chmod 666 index.html
     　　ftp>quote site chmod 666 count.txt
     　　ftp>quote site chmod 755 gacf.cgi
     　　ftp>dir

     ここで、cdはディレクトリを移るコマンド、dirは、そのディレクトリのファ イル一覧を得るコマンドです(”ls -l”でもよい）。quote
     のところでファイ ルのアクセスを変更しています。telnetでファイルのアクセス権を変更できる サイトでは、chmod以降の部
     分のみで変更できます。最後のdirは、アクセス権 が変更されたかチェックするためのものです。
     　ftpのコマンドについて不案内の方は、技術資料のページの”計算機コマンド のRosetta Stone”を御覧下さい。表２に他
     のOSのコマンドとの対比を示してい ます。

     　CuteFTPをお使いの方は、次のようにしアクセス権を変更して下さい。
       1.アクセス権を変更するリモートのファイルをクリックして選択する 
       2.メニューから Commands/Custom Commands/Change Files Access mask を順に選択する。 
       3.出てきたダイアログに変更すべきアクセス権の３桁の数字(”755”等) を入力し”OK”ボタンをクリックする。

     　Fetchをお使いの方は、ファイルを指定した後、次のようにして アクセス権を変更して下さい。

             アクセス許可を”755”にするのは Remote/Set Permissions..で
     　　　　    　　　       Read     Write    Search/Execute
     　　　　    Owner         x        x            x
     　　　　    Group         x                     x
     　　　　    Everyone      x                     x

             アクセス許可を”666”にするのは Remote/Set Permissions..で
     　　　　    　　　       Read     Write    Search/Execute
     　　　　    Owner         x         x            
     　　　    　Group         x         x            
     　　　　    Everyone      x         x            
             

  8.ファイルのバックアップ等
     ftpでWebページのディレクトリへ送った１５個のファイルは、 ”gacf”の不具合やサーバーの不調等の原因で破壊されるお
     それが ありますので必ずローカルなディスクにバックアップを保存する とともに、フロッピーディスクやDAT等別媒体にも
     バックアップして おいて下さい。細心の注意を払って作っておりますが、”gacf”および その設置作業に伴う損害は、補償
     できませんので悪しからず御了承下 さい。
     　また、カウンタの数値は、時々ホームページを見て、日付と時刻 とともにメモしておいて下さい。”count.txt”ファイルが壊
     れた場合 その数値を用いて再設定して下さい。

  9.cgiの実行許可
     meshでは、ファイルの拡張子が”cgi”であれば、自動的 にcgiとして実行可能なように設定済みなので、ユーザは、特別な
     設定は必要 ありません。しかし、他のサイトでは、cgiファイルを置くディレクトリに ”.htaccess”という名前のファイルを作っ
     て、

     　　AddType application/x-httpd-cgi .cgi

     という行を書く必要があったり、cgiはすべてユーザのcgi-binというディ レクトリに置く必要があったりする場合があります。
     詳しくは、プロバイ ダーまたはシステム管理者にお問い合わせ下さい。

 10.最初のアクセス
     最初に”gacf”を設置した後、ホームページに最初にアクセスしたときに は、カウンタの数字は、表示されません。ブラウザ
     の再読み込みのアイ コン(Netscapeの場合は、矢印がぐるっと一周しているマークです)を クリックするかメニューの中から
     再読み込みを選んで実行してみて下さい。 再読み込みで”あなたは、1人目です。”というような表示がでたら”gacf” の設
     置は、成功です。
     　うまく行かない場合は、ftpで送った１５個のファイル名をブラウザのURL を指定するテキストボックスにフルパスで指定し
     てみて、ファイルの存在 と中身を確認して下さい。”trans.gif”ファイルは、透明なので、見えませんが ファイルがあるかど
     うかは、確認できます。すべてのファイルが正常に存在 する場合は、ftp等でファイルのアクセス権が上述の設定通りにな
     っているか 確認して下さい。

 11.修正の際の注意事項
     ”gacf.cgi”は、”index.html”の転送後に起動され、カウンタの数値 を１増やしてから、”index_.html”を”index.html”に一行
     ずつコピー します。しかし、その行に ”ＩＮＳＥＲＴ＿ＣＯＵＮＴＥＲ”(の半角) 　　という文字列があると カウンタの数値の個
     数だけ、カウンタの数値を示すgifファイルのIMGタグを ”index.html”に書き込みます。そうしてできた”index.html”は、次回
     の アクセスの際に使われます。
     　従って、Webの最初のページを修正する場合には、”index.html”では、 なく、”index_.html”の方を修正して、Webの最初
     のページのディレクト リにお送り下さい。そして、”index.html”への修正は、一回遅れるので、 再読み込みを実行してか
     ら、変更部分の確認を行って下さい。 また、修正の際には、”index.html”をWebの最初のページのディレクトリ にftpで送ら
     ないで下さい。もし、送ってしまった場合には、アクセス許可 を必ず666に変更して下さい。

 12.このgacfに関する質問等
     NIFTY ServeのFINETAP "Webページ作成法"の電子会議室(現在＃３)で質問 するか、当方まで、E-mailをお願いしま
     す。

 13.謝辞
     ”gacf”の開発にあたり、鈴木 秀夫さんに貴重な助言を頂きました。 ここに記して感謝の意を表します。

○２番目以降のページ用のグラフィックタイプのアクセスカウンタ”gacs(ver.1.0)”

　個人用Webページの２番目以降のページで使用できるグラフィックタイプの アクセスカウンタ”gacs(graphic access counter for
secondary Web page)” をここで公開しております。ここから、ダウンロードして貴方のWebページに 設置可能です。ここから、
直接ダウンロードしてくれた方は、”無料”です。 著作権は一応留保しますが、貴方のサイトで自由に変更していただいてかま
い ません。
　このカウンタの特徴は、meshのようにSSI(Server Side Include)は、使 えないが、CGI(Common Gateway Interface)は、使えるプ
ロバイダーのWebページ で、使用できることです。
　ファイルの転送方法、アクセス許可の変更方法、CGIファイルの実行許可 については、”gacf”の場合と同じですので、そちら
を参照して下さい。

”gacs”の設置方法

  1.呼び出し側のWebページの設定
     　呼び出し側(リンク元)のWebページが”index.html”で、呼ばれる側 (リンク先)のWebページが”second/second.html”であ
     るとして説明します。 つまり、呼ばれる側のデータは、すべて”second”というディレクトリに入れて いることにします。実際
     には”second”という名前でなくてもよく、 どんな名称でもかまいません(どんなといっても、英数字やピリオドやアンダースコ
     ア等 の半角で16文字以内にしておくのが安全です)。この呼び出し側で他のページにリンクを 張る場合、通常は、次のよ
     うに指定します。

     　　<A HREF="second/second.html">second ページ</A>

     ここで、second.htmlにカウンタ”gacs”を付ける場合は、次のようにします。 

     　　<A HREF="second/gacs.cgi">second ページ</A>

     すなわち、htmlファイルを指定する代わりにcgiファイルを指定します。

  2.呼び出される側のWebページの設定
     カウンタの数字を入れたい部分に

     <!-- ＩＮＳＥＲＴ＿ＣＯＵＮＴＥＲ -->(半角にして下さい)

     という行を挿入して下さい。この行には、他の文字等は入れないで 下さい。また、このWebページの他の部分には、 　　　
     　”ＩＮＳＥＲＴ＿ＣＯＵＮＴＥＲ”(の半角表示) という文字列は、使用しないで下さい。
     　例えばページの最初に表示する場合の例を以下に示します。

         <HTML>
         <HEAD>
         <TITLE>Second Page</TITLE>
         </HEAD>
         <BODY>
         <P ALIGN=RIGHT>
         あなたは、
         <!-- ＩＮＳＥＲＴ＿ＣＯＵＮＴＥＲ -->(半角にして下さい)
         人目です。
         </P>

     ここで、”あなたは、”や”人目です。”の部分は、適宜変更してい ただいてかまいませんし、なくても問題ありません。その
     上の ”ALIGN=RIGHT”に付いては、”gacf”のところの説明を御参照下さい。 

  3.”gacs”のCGIスクリプト
     次のファイルをここからダウンロードして下さい。

     　　gacs.txt

     ダウンロードしたらファイル名を”gacs.cgi”と変更してください。 ダウンロードの仕方は、「”gacf”のCGIスクリプト」の項を参
     照して 下さい。 　このカウンタをmesh以外で使用される場合には、一行目の

     　　#!/usr/mesh/bin/perl

     をそのサイトのperlのあるところに変更して下さい。
     　また、CGIの中のhtmlファイル名

     　　$html_file = "second.html";

     および、カウンタの数値が入っているファイル名

     　　$count_file = "count.txt";

     は、適宜使用しているファイル名に変更して下さい。特にカウンタ の数値が入っているファイルは、他のページのカウンタ
     のファイル名 と重複しないようにして下さい。ページ毎にディレクトリを変えてい る場合には、すべて”count.txt”というよう
     に同じ名前でもかまいま せんがおなじディレクトリに入れる場合は、ページ毎に変えて下さい。 ”gacs.cgi”ファイル自体も
     同じディレクトリに入れる場合に は、ページ毎にファイル名を変える必要がありますが、ページ毎に ディレクトリが異なる場
     合には、同じ名前でかまいません。

     　また、$gif_dirを数字のgifファイルのあるディレクトリを示すよう 適宜変更して下さい。例えば、”gacs.cgi”とこれで表示す
     るhtml ファイルがWebの最初のページの”index.html”のあるディレクトリ より一段下と二段下の場合には次のようになりま
     す。

     　　$gif_dir = "../image/" (index.htmlより一段下のディレクトリの場合)
     　　$gif_dir = "../../image/" (index.htmlより二段下のディレクトリの場合)

     また、CGIではフルパスのファイル名を指定する必要のあるサイトでは 、上述の３つのファイル(ディレクトリ)名をフルパス
     に変更して下さい。 

  4.”count.txt”ファイル
     カウンタの数値を入れるファイル

     　　count.txt

     をここからダウンロードするか、エディターで半角の数字”0”のみ が入ったファイルを用意して下さい(リターンは入れない
     で下さい)。 カウンタを途中の番号から始めたい場合は、始めたい番号より１小さ い数値を半角の数字で書いたファイル
     をエディターで作って下さい。 ファイル名は、”count.txt”にして下さい。

  5.数字のgifファイルの転送
     数字を表示するためのgifファイルを１０個ダウンロード して下さい。自分で、数字のgifファイルを作る方や、他の数字のgif
     ファイルを使う方は、ここからダウンロードする必要は、ありません。 また、Webの最初のページ用の”gacf”用にすでにこ
     れらのファイルを ダウンロードしている場合には、新たにダウンロードする必要は、 ありません。具体的なダウンロードの仕
     方は、”gacf”の ”数字のgifファイルの転送”の部分を御覧下さい。ファイル名は、 ”0.gif”、”1.gif”、...、”9.gif”として下さ
     い。

  6.ファイルのアップロードとアクセス権の変更
     ftpで次のファイルをそれぞれのディレクトリへ転送(put)して下さい。 gifファイルはバイナリーモードで、他はテキストモード
     で転送して 下さい。

         index.html　を”/.../user_id/public_html/”へ 
         second.html を”/.../user_id/public_html/second/”へ 
         count.txt 　を”/.../user_id/public_html/second/”へ 
         gacs.cgi　　を”/.../user_id/public_html/second/”へ 
         n.gif (nは、0〜9) を”/.../user_id/public_html/image/”へ 

     ただし、gifファイルはすでに”gacf”用に転送していればそれを 共用できるので新たに転送する必要は、ありませんが、”
     gacs.cgi” の中の変数”$gif_dirがgifファイルのあるディレクトリを正しく 指定するよう設定して下さい。
     　上の例は、”index.html”が呼び出し側(リンク元)のページ で”second.html”が呼び出される側(リンク先)の場合で、
     second.html 関連のファイルは、secondというディレクトリにある場合です。
     　”index.html”に最初のWebページ用のカウンタ”gacf”または、 ”tacf”を設置している場合には、”index.html”を”
     index_.html” にコピーして”index_.html”の方をftpでお送り下さい。
     　”/.../user_id/”は、ホームページのftpでloginした際のディレク トリを模式的に示したもので、実際はこの文字通りではあ
     りません。 次に”count.txt”ファイルのアクセス許可を”666”に変更して下さ い。また、”gacs.cgi”のファイルのアクセス許可
     を”755”に変更 して下さい。そのほかのファイルは、一般の人から読み出し可能であ ればよいので通常変更不要です。
     アクセス権の変更の仕方は、 ”gacf”の”ファイルのアップロードとアクセス権の変更”の部分を 御参照下さい。

  7.ファイルのバックアップ等
     ftpでWebページのディレクトリへ送った４個または１４個のファイルは、 ”gacs”の不具合やサーバーの不調等の原因で破
     壊されるおそれが ありますので必ずローカルなディスクにバックアップを保存する とともに、フロッピーディスクやDAT等
     別媒体にもバックアップして おいて下さい。細心の注意を払って作っておりますが、”gacs”および その設置作業に伴う損
     害は、補償できませんので悪しからず御了承下 さい。
     　また、カウンタの数値は、時々Webページを見て、日付と時刻 と共にメモしておいて下さい。”count.txt”ファイルが壊れ
     た場合 その数値を用いて再設定して下さい。

  8.FRAMEタグを使って”gacs”を最初のWebページに設置する場合(御参考)
     FRAMEタグを使う場合には、”gacs”を最初のページにも使うことができ ます。しかし、FRAMEタグは、1996年6月の時点
     では、Netscape Navigator 2.0以上のブラウザしか対応していません。FRAMEタグに対応していない ブラウザでは、一度リ
     ンクをクリックしてもらう必要があります。

         Webページの名前変更
         最初のWebページ(ホームページ)にカウンタを付ける場合は、これまで のWebページのファイル名”index.html”を”
         main.html”に変更して 下さい。

         ”main.html”での設定
         カウンタの数字を入れたい部分に

         <!-- ＩＮＳＥＲＴ＿ＣＯＵＮＴＥＲ -->(半角にしてください)

         という行を挿入して下さい。この行には、他の文字等は入れないで 下さい。

         新しい”index.html”のWebページの設定
         次のような内容のファイルを作りファイル名を”index.html”にして下さい。 

              <HTML>
              <HEAD>
              <TITLE>Any Title</TITLE>
              </HEAD>
              <FRAMESET ROWS="80%, 20%">
              <NOFRAME>
              Please click this link.<A HREF="gacs.cgi">[HERE]</A>
              </NOFRAME>
              <FRAME NAME="MAIN_WINDOW" SRC="gacs.cgi">
              <FRAME NAME="BOTTOM_WINDOW" SRC="bottom.html">
              </FRAMESET>

         ここで、”bottom.html”は、ブラウザの下部２０％に表示される内容で 貴方のメイルアドレス等を書いたWebページを
         ご用意下さい。 ”gacs.cgi”は、「”gacs”のCGIスクリプト」の項で説明したもの と同じです。同様にダウンロードして下
         さい。また、”count.txt” ファイルも上述の方法でダウンロードするかエディタで作って下さ い。

         ファイルのアップロードとアクセス権の変更
         ftpで次のファイルを最初のWebページをおいておくディレクトリへ 転送して下さい。

              index.html 
              main.html 
              count.txt 
              gacs.cgi

         ファイルのアクセス権を”count.txt”は、666、”gacs.cgi”は、755 に設定して下さい。

  9.METAタグを使う場合(参考用：おすすめは、しません)
     ”gacs”を最初のページに使うのにMETAタグを使う方法もあります。しかし、 METAタグは、Netscape Navigator 2.0や
     Internet Explorer 2.0等しか対応して いません。その他のブラウザでは、リンクを一度クリックしてもらう必要 があります。ま
     た、この方法は、METAタグの一定時間後のページの切り替えの 機能を使っていますので、ダミーの”index.html”が一瞬
     表示されます。 　新しいWebページの設定以外は、FRAMEタグの場合と同じ(従来のWebページの ファイルは”main.html
     ”というファイル名に変更して下さい)ですので、この 部分のみ以下に例を示します。 

         <HTML>
         <HEAD>
         <TITLE>TAKE Soft</TITLE>
         <META HTTP-EQUIV="Refresh" CONTENT="0;URL=http://www2a.meshnet.or.jp/~user_id/gacs.cgi">
         </HEAD>
         <BODY>
         Please click this link.<A HREF="gacs.cgi">[HERE]</A>
         </BODY>
         </HTML>

     METAタグの意味は、”このWebページを表示して、０秒たったら、次にURLで 示すページ(ここでは、CGIファイル)を表示
     しなさい”です。URLは、 貴方のWebページのある場所のgacs.cgiを示すように変更して下さい。 

 10.このgacsに関する質問等：NIFTY ServeのFINETAP "Webページ作成法"の電子会議室(現在＃３)か、当方までE-mailお
     願い します。 

○meshで使える簡易グラフィックカウンタ”gcounter”

　この”gcounter”は、カウンタの各桁毎にCGIを実行する必要があるので、 通常は、”gacf”または、”gacs”を御使用下さい。
　NECのC&Cインターネットサービスmeshの個人用ホームページで使用できる 簡易グラフィックカウンタをここで公開しておりま
す。ここから、ダウン ロードして貴方のホームページに設置可能です。ここから直接ダウンロード 下場合には、無料です。
　このカウンタの特徴は、meshのようにSSI(Server Side Include)は、使 えないが、CGI(Common Gateway Interface)は、使えるプ
ロバイダーのホーム ページで、IMGタグからCGIを起動して、グラフィックカウンタを表示するこ とができる点です。ただし、この
プログラム(スクリプト)は、Perl(ver.4.019) で書きましたので、Perlが使えない場所のホームページでは使用できませ ん。 

gcounterの設置の方法

　gcounterの本体は、ここでは、すぐ 中身を見ることができるように"gcounter.txt"というファイル名にしてありますが、 ここから転
送後は、"gcounter.cgi"という名前に必ず変更して下さい。その他 のファイルは、ファイル名を変えないで下さい。 

  1.ファイルのダウンロード(get)：以下のファイルを貴方のコンピュータに ダウンロード(転送)して下さい。Netscape Navigator
     の場合のダウンロードの しかたは、リンクをクリックして内容を表示させてから、メニューの ”ファイル”から”名前を付けて保
     存”を選んで下さい。貴方のファイル名を 指定するダイアログがでますから、同じ名前で保存して下さい。ただし、 ”
     gcounter.txt”は、転送後に”gcounter.cgi”に変更しておいて下さい。 転送モードは、ブラウザが自動的に設定してくれま
     す。 　　
         gcounterの転送：gcounter.txt---gcounter本体 
         count.txtの転送：count.txt---カウンタ の数値用(初期値の”0”のみのファイル)

         数字のgifファイルの転送
         数字を表示するためのgifファイルを１０個ダウンロード して下さい。自分で、数字のgifファイルを作る方や、他の数字
         のgif ファイルを使う方は、ここからダウンロードする必要は、ありません。 具体的なダウンロードの仕方は、”gacf”の
         ”数字のgifファイルの転送”の部分を御覧下さい。ファイル名は、 ”0.gif”、”1.gif”、...、”9.gif”として下さい。

  2.ファイルの変更：必要に応じて以下の変更をして下さい。 
         ”gcounter.txt”のファイル名を必ず”gcounter.cgi”に変更して下さい。 
         mesh以外で使用される場合は、gcounter.cgiのファイルの１行目を、 そのサイトのperlを絶対パス名(full path)で指定
         するよう変更して下さい。 (現状)”#!/usr/mesh/bin/perl"を、例えば、”#!/usr/local/bin/perl” のように変更して下さ
         い。perlのある場所は、貴方のプロバイダーや システム管理者にお問い合わせ下さい。 　　
         meshでは、cgiを起動したときのworking directoryは、cgiのファイル のあるdirectoryになるようなので、gcounter.cgiの
         27行目の変数 ”$home_dir”は、現在のdirectoryを示す”．”に設定していますが、 絶対パスを指定する必要のあるサ
         イトでは、カウンタを設置する index.htmlやgcounter.cgiのあるdirectoryを絶対パスで指定して下 さい。ただし、この
         変数の場合は最後の”/”は、不要です。例えば

         　　$home_dir = "/home/usr01/user_id/public_html"

         です。パスの設定は、サイトによって異なりますので貴方のサイトの 絶対パスが必要な場合は、プロバイダーまたは
         システム管理者にお問 い合わせ下さい。 
         数字を示すgifファイルも貴方のグラフィック編集プログラムで変更 したり、新しく作ってもかまいませんが、ファイル
         名は、元の通りの もの(十種類)を用意して下さい。

  3.ファイルのアップロード(put) ：ダウンロードして変更したファイル(計 １２個)をカウンタを設置するサイトのHTMLファイル(例
     えば”index.html”) のあるディレクトリにftpで転送します。このときの転送のモードは、gif ファイルはバイナリーモードで、そ
     の他は、テキストモードで転送して下さ い。そしてファイルのアクセス許可を”gcounter.cgi”は７５５に、 ”count.txt”は、６６
     ６に変更して下さい。gifファイルは、他のユーザから 読み込み可能であればＯＫですので、通常は変更しなくてよいと思
     います。 meshで、ファイルのアクセス許可を変更するには、ftpで目的のサイトに ログインして次のようにします。

     　　ftp>cd public_html
     　　ftp>dir
     　　ftp>quote site chmod 755 gcounter.cgi
     　　ftp>quote site chmod 666 counter.txt
     　　ftp>dir

     ここで、cdはディレクトリを移るコマンド、dirは、そのディレクトリのファ イル一覧を得るコマンドです(”ls -l”でもよい）。quote
     のところでファイ ルのアクセスを変更しています。telnetでファイルのアクセス権を変更できる サイトでは、chmod以降の部
     分のみで変更できます。最後のdirは、アクセス権 が変更されたかチェックするためのものです。
     　ftpのコマンドについて不案内の方は、技術資料のページの”計算機コマンド のRosetta Stone”を御覧下さい。表２に他
     のOSのコマンドとの対比を示しています。 

  4.Home Pageでの設定：例えば４桁のカウンタを設置する場合には、 カウンタを表示したい位置に次のように記述します。こ
     こで、digitは、桁の 右からの位置を示します。例えば、４は、千の位です。incrは、カウンタの 数字の増分を示します。必
     ず、一番上の位のみ"1"にして、他の位は、"0"に して下さい。下の例では、千の位を表示する前にcount.txtファイルのカ
     ウン タの数値を１だけ増加させてから、表示を始めています。

           <IMG SRC="gcounter.cgi?digit=4&incr=1" BORDER=0 ALT=" ">
           <IMG SRC="gcounter.cgi?digit=3&incr=0" BORDER=0 ALT=" ">
           <IMG SRC="gcounter.cgi?digit=2&incr=0" BORDER=0 ALT=" ">
           <IMG SRC="gcounter.cgi?digit=1&incr=0" BORDER=0 ALT=" ">
           人目(1996年xx月xx日から)
        

     IMGタグとIMGタグの間に改行文字があると表示した数字の間に隙間が空きバック の色が少し見えます。これがいやな場
     合は、IMGタグ間で改行をしないように してみて下さい。
     　最大１０桁まで表示できますが、最初は、３桁にしておいて４桁になる前、 または４桁になった後に、４桁に変更するとい
     うこともできます。３桁にして おいて、実際のカウントが４桁になっていないかどうかは、ブラウザで確認で きます。URLを指
     定するテキストボックスにホームページの指定を書きそのあと に”count.txt”ファイルの指定してリターンキーを押します。
     例えば、 ”竹ソフト”の場合は、次のように指定します。

     　　http://www2a.meshnet.or.jp/~takesoft/count.txt

     　カウンタ用のファイルの拡張子をわざわざ”txt”にしているのは、この ようにすると中身をブラウザから直接見ることができ
     るからです。ただし、 変更はできません。数値を変更する場合は、エディターで半角の数字のみの ファイルを作り(リター
     ンを入れないようにして下さい）、ftpで送る必要が あります。最初の場合と同様にファイル名を”count.txt”とする事と、ftp
     で 送った後、ファイルのアクセス許可を666にする事が必要です。

  5.cgiの実行許可：meshでは、ファイルの拡張子が”cgi”であれば、自動的 にcgiとして実行可能なように設定済みなので、ユ
     ーザは、特別な設定は必要 ありません。しかし、他のサイトでは、cgiファイルを置くディレクトリに ”.htaccess”という名前の
     ファイルを作って、

     　　AddType application/x-httpd-cgi .cgi

     という行を書く必要があったり、cgiはすべてユーザのcgi-binというディレクトリに置く必要があったりする場合があります。
     詳しくは、プロバイダーまたはシステム管理者にお問い合わせ下さい。

  6.このgcounterに関する質問等：NIFTY ServeのFINETAP "Webページ作成法"の電子会議室(現在＃３)で質問するか、当
     方までE-mail下さい。 

                                                                   竹ソフトのホームページへ戻る 



著作・制作(c)1996 竹ソフト: 竹ソフトのWebページに掲載の文書,図,表,アイコン,写真等の無断転載はしないで下さい(上の
gcounterとtcounterのように本文中でよい旨表示している部分は除く)。竹ソフトのサイトから転送したファイルにより生じた損害
等 あるいは転送作業による損害等は補償できませんので御了承下さい。
Copyright (c)1996 Takesoft: All rights reserved.
連絡先：takesoft@mxs.meshnet.or.jp ／初期設置日：1996年6月15日／最終変更日：1996年7月19日 
